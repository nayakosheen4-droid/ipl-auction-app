<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPL Auction Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
            <h1>üèè IPL Auction Game</h1>
            <p class="subtitle">Select your team and enter password</p>
            <form id="loginForm">
                <select id="teamSelect" required>
                    <option value="">Select Team</option>
                </select>
                <input type="password" id="passwordInput" placeholder="Team Password" required>
                <button type="submit">Join Auction</button>
            </form>
        </div>
    </div>

    <!-- Main Auction Screen -->
    <div id="auctionScreen" class="screen hidden">
        <header>
            <div class="header-left">
                <h1>üèè IPL Auction</h1>
                <div id="teamInfo" class="team-info"></div>
            </div>
            <div class="header-right">
                <select id="adminTeamViewer" class="admin-team-selector hidden">
                    <option value="">View Team...</option>
                </select>
                <button id="viewTeamBtn" class="btn btn-secondary">View My Team</button>
                <button id="logoutBtn" class="btn btn-danger">Logout</button>
            </div>
        </header>

        <div class="main-content">
            <!-- Left Panel: Player Selection / Teams View -->
            <div class="left-panel">
                <div class="panel-header">
                    <div class="panel-toggle">
                        <button id="togglePlayers" class="toggle-btn active">Available Players</button>
                        <button id="toggleTeams" class="toggle-btn">All Teams</button>
                    </div>
                    <div id="playerFilters" class="filter-group">
                        <select id="positionFilter">
                            <option value="">All Positions</option>
                            <option value="Batsman">Batsman</option>
                            <option value="Bowler">Bowler</option>
                            <option value="All-rounder">All-rounder</option>
                            <option value="Wicket-keeper">Wicket-keeper</option>
                        </select>
                        <input type="text" id="searchPlayer" placeholder="Search player...">
                    </div>
                </div>
                <div id="playersList" class="players-list"></div>
                <div id="teamsList" class="teams-list hidden"></div>
            </div>

            <!-- Center Panel: Current Auction -->
            <div class="center-panel">
                <div id="noAuction" class="no-auction">
                    <div class="placeholder">
                        <h2>No Active Auction</h2>
                        <p>Select a player from the left panel to start bidding</p>
                        <div id="turnNotification" class="turn-notification hidden"></div>
                        <button id="initializeAuctionBtn" class="btn btn-initialize hidden">üé≤ Initialize Auction Order</button>
                    </div>
                </div>

                <div id="activeAuction" class="active-auction hidden">
                    <div id="activeTurnNotification" class="turn-notification hidden"></div>
                    
                    <div class="player-card">
                        <div class="player-header">
                            <h2 id="currentPlayerName"></h2>
                            <span id="currentPlayerPosition" class="position-badge"></span>
                            <span id="franchiseBadge" class="franchise-badge"></span>
                        </div>
                        <div class="current-bid">
                            <span class="bid-label">Current Bid</span>
                            <span id="currentBidAmount" class="bid-amount">‚Çπ0.0 Cr</span>
                            <span id="currentBidder" class="bidder-name"></span>
                        </div>
                        
                        <!-- Countdown Timer -->
                        <div id="auctionTimer" class="auction-timer hidden">
                            <div class="timer-label">‚è±Ô∏è Selling in</div>
                            <div id="timerDisplay" class="timer-display">30</div>
                            <div class="timer-subtitle">Only one team remaining!</div>
                        </div>
                        
                        <div class="bid-controls">
                            <h3>Place Your Bid</h3>
                            <div class="bid-buttons">
                                <button class="bid-btn" data-increment="0.5">+0.5 Cr</button>
                                <button class="bid-btn" data-increment="1">+1 Cr</button>
                                <button class="bid-btn" data-increment="1.5">+1.5 Cr</button>
                                <button class="bid-btn" data-increment="2">+2 Cr</button>
                            </div>
                            <button id="markOutBtn" class="btn btn-out">Mark Out</button>
                        </div>
                    </div>

                    <!-- RTM Phase -->
                    <div id="rtmPhase" class="rtm-phase hidden">
                        <div class="rtm-card">
                            <h2>üéØ Right to Match Available!</h2>
                            <p id="rtmMessage"></p>
                            
                            <!-- RTM Timer -->
                            <div id="rtmTimer" class="rtm-timer">
                                <div class="rtm-timer-label">‚è±Ô∏è Decide in</div>
                                <div id="rtmTimerDisplay" class="rtm-timer-display">30</div>
                                <div class="rtm-timer-subtitle">Auto-decline if no action taken</div>
                            </div>
                            
                            <div class="rtm-buttons">
                                <button id="useRTMBtn" class="btn btn-rtm">Use RTM Card</button>
                                <button id="declineRTMBtn" class="btn btn-decline">Decline RTM</button>
                            </div>
                        </div>
                    </div>

                    <!-- Admin Controls -->
                    <div id="adminControls" class="admin-controls hidden">
                        <h3>üîß Admin Controls</h3>
                        
                        <!-- Mark Team Out Section -->
                        <div class="admin-section">
                            <label class="admin-label">Mark Teams Out:</label>
                            <div class="admin-team-out-buttons" id="adminTeamOutButtons"></div>
                        </div>
                        
                        <!-- Complete Auction Section -->
                        <div class="admin-section">
                            <label class="admin-label">Complete Auction:</label>
                            <div class="admin-buttons">
                                <select id="adminTeamSelect" class="admin-select">
                                    <option value="">Select Team to Award</option>
                                </select>
                                <input type="number" id="adminPriceInput" class="admin-price-input" placeholder="Price (Cr)" min="0.5" step="0.5" value="0.5">
                                <button id="adminCompleteBtn" class="btn btn-admin">Mark Player Sold</button>
                            </div>
                        </div>
                        
                        <!-- Reset Auction Section -->
                        <div class="admin-section">
                            <button id="adminResetBtn" class="btn btn-reset-auction">üîÑ Reset Current Auction</button>
                        </div>
                        
                        <!-- Download Excel Section -->
                        <div class="admin-section">
                            <button id="adminDownloadBtn" class="btn btn-download-excel">üì• Download Excel File</button>
                        </div>
                    </div>

                    <div class="teams-status">
                        <h3>Teams Status</h3>
                        <div id="teamsStatusList"></div>
                    </div>
                </div>
            </div>

            <!-- Chat Panel -->
            <div class="chat-panel">
                <div class="panel-header">
                    <h2>üí¨ Live Chat</h2>
                </div>
                <div class="chat-container">
                    <div id="chatMessages" class="chat-messages"></div>
                    <div class="chat-input-container">
                        <input type="text" id="chatInput" placeholder="Type a message..." maxlength="200">
                        <button id="sendChatBtn" class="btn-send-chat">Send</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- My Team Modal -->
    <div id="myTeamModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>My Team</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="myTeamBudget" class="team-budget-info"></div>
                <div id="myTeamPlayers" class="my-team-players"></div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast hidden"></div>

    <script src="app.js"></script>
</body>
</html>

